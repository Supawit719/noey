<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á + ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</title>
</head>
<body>
  <h2>üìò ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ö‡∏±‡∏ç‡∏ä‡∏µ (‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÄ‡∏≠‡∏Å)</h2>

  <label>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏° (Revenue):</label><br>
  <input type="number" id="revenue" placeholder="‡πÄ‡∏ä‡πà‡∏ô 100000"><br><br>
  <button onclick="calculate()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>

  <h3>üìä ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î:</h3>
  <div id="result"></div>

  <h3>üìù ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì:</h3>
  <ul id="history"></ul>

  <script>
    let historyList = [];

    function calculate() {
      const revenue = parseFloat(document.getElementById("revenue").value);
      if (isNaN(revenue) || revenue <= 0) {
        document.getElementById("result").innerHTML = "‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
        return;
      }

      // Parameters
      const vatRate = 0.07;
      const cogsRate = 0.6;
      const sellingExpRate = 0.1;
      const adminExpRate = 0.08;
      const depreciationRate = 0.05;
      const interestRate = 0.03;
      const corporateTaxRate = 0.2;

      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
      const vat = revenue * vatRate;
      const netRevenue = revenue - vat;
      const cogs = revenue * cogsRate;
      const grossProfit = netRevenue - cogs;
      const sellingExp = revenue * sellingExpRate;
      const adminExp = revenue * adminExpRate;
      const depreciation = revenue * depreciationRate;
      const totalOpExp = sellingExp + adminExp + depreciation;
      const operatingProfit = grossProfit - totalOpExp;
      const interest = revenue * interestRate;
      const ebt = operatingProfit - interest;
      const corporateTax = ebt * corporateTaxRate;
      const netProfit = ebt - corporateTax;
      const assets = revenue;
      const liabilities = revenue * 0.4;
      const equity = assets - liabilities;

      // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå HTML
      const output = `
        <strong>1. ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡∏†‡∏≤‡∏©‡∏µ:</strong><br>
        - ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏£‡∏ß‡∏° (Revenue): ${revenue.toFixed(2)}<br>
        - VAT (7%): ${vat.toFixed(2)}<br>
        - ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ (Net Revenue): ${netRevenue.toFixed(2)}<br><br>

        <strong>2. ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô:</strong><br>
        - COGS (60%): ${cogs.toFixed(2)}<br>
        - ‡∏Å‡∏≥‡πÑ‡∏£‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πâ‡∏ô: ${grossProfit.toFixed(2)}<br><br>

        <strong>3. ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢:</strong><br>
        - ‡∏Ç‡∏≤‡∏¢ (10%): ${sellingExp.toFixed(2)}<br>
        - ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£ (8%): ${adminExp.toFixed(2)}<br>
        - ‡∏Ñ‡πà‡∏≤‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏° (5%): ${depreciation.toFixed(2)}<br><br>

        <strong>4. ‡∏Å‡∏≥‡πÑ‡∏£:</strong><br>
        - Operating Profit: ${operatingProfit.toFixed(2)}<br>
        - ‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ (3%): ${interest.toFixed(2)}<br>
        - EBT: ${ebt.toFixed(2)}<br>
        - ‡∏†‡∏≤‡∏©‡∏µ‡∏ô‡∏¥‡∏ï‡∏¥‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• (20%): ${corporateTax.toFixed(2)}<br>
        - ‡∏Å‡∏≥‡πÑ‡∏£‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: ${netProfit.toFixed(2)}<br><br>

        <strong>5. ‡∏á‡∏ö‡∏î‡∏∏‡∏•:</strong><br>
        - ‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå: ${assets.toFixed(2)}<br>
        - ‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô: ${liabilities.toFixed(2)}<br>
        - ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á: ${equity.toFixed(2)}<br>
      `;

      document.getElementById("result").innerHTML = output;

      // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥
      const summary = `‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢: ${revenue.toFixed(2)} | ‡∏Å‡∏≥‡πÑ‡∏£‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: ${netProfit.toFixed(2)} | Operating: ${operatingProfit.toFixed(2)}`;
      historyList.unshift(summary);
      renderHistory();
    }

    function renderHistory() {
      const historyContainer = document.getElementById("history");
      historyContainer.innerHTML = "";
      historyList.forEach(item => {
        const li = document.createElement("li");
        li.textContent = item;
        historyContainer.appendChild(li);
      });
    }
  </script>
</body>
</html>
